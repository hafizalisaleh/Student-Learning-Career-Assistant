2026-02-01 01:17:18 - slca - ERROR - [migrate.py:42] - ❌ Error creating tables: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: Connection refused
	Is the server running on that host and accepting TCP/IP connections?

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-01 01:26:02 - slca - ERROR - [migrate.py:42] - ❌ Error creating tables: (psycopg2.OperationalError) connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "slca_user"
connection to server at "localhost" (127.0.0.1), port 5432 failed: FATAL:  password authentication failed for user "slca_user"

(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-01 01:47:55 - slca - ERROR - [main.py:40] - Unhandled exception: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2026-02-01 01:47:55 - slca - ERROR - [main.py:41] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/users/views.py", line 51, in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/users/auth.py", line 41, in get_password_hash
    return pwd_context.hash(normalized_password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

2026-02-01 01:51:08 - slca - ERROR - [main.py:40] - Unhandled exception: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2026-02-01 01:51:08 - slca - ERROR - [main.py:41] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/users/views.py", line 51, in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/users/auth.py", line 41, in get_password_hash
    return pwd_context.hash(normalized_password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

2026-02-01 01:53:03 - slca - ERROR - [main.py:40] - Unhandled exception: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])
2026-02-01 01:53:03 - slca - ERROR - [main.py:41] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/users/views.py", line 51, in register_user
    hashed_password = get_password_hash(user_data.password)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/users/auth.py", line 41, in get_password_hash
    return pwd_context.hash(normalized_password)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/context.py", line 2258, in hash
    return record.hash(secret, **kwds)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 779, in hash
    self.checksum = self._calc_checksum(secret)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 591, in _calc_checksum
    self._stub_requires_backend()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2254, in _stub_requires_backend
    cls.set_backend()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2156, in set_backend
    return owner.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2163, in set_backend
    return cls.set_backend(name, dryrun=dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2188, in set_backend
    cls._set_backend(name, dryrun)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2311, in _set_backend
    super(SubclassBackendMixin, cls)._set_backend(name, dryrun)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 2224, in _set_backend
    ok = loader(**kwds)
         ^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 626, in _load_backend_mixin
    return mixin_cls._finalize_backend_mixin(name, dryrun)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 421, in _finalize_backend_mixin
    if detect_wrap_bug(IDENT_2A):
       ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 380, in detect_wrap_bug
    if verify(secret, bug_hash):
       ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/utils/handlers.py", line 792, in verify
    return consteq(self._calc_checksum(secret), chk)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/passlib/handlers/bcrypt.py", line 655, in _calc_checksum
    hash = _bcrypt.hashpw(secret, config)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
ValueError: password cannot be longer than 72 bytes, truncate manually if necessary (e.g. my_password[:72])

2026-02-04 16:34:40 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 403 Your API key was reported as leaked. Please use another API key.
2026-02-04 16:34:40 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 403 Your API key was reported as leaked. Please use another API key.
2026-02-04 16:34:40 - slca - ERROR - [vector_store.py:218] - Error adding document test_a8cb1353: 403 Your API key was reported as leaked. Please use another API key.
2026-02-05 01:48:52 - slca - ERROR - [views.py:201] - File upload failed: 400: Unsupported file format. Allowed formats: pdf, docx, pptx, jpg, jpeg, png, txt, xlsx, csv
2026-02-05 01:48:52 - slca - ERROR - [views.py:202] - Error type: HTTPException
2026-02-05 01:48:52 - slca - ERROR - [views.py:204] - Traceback (most recent call last):
  File "/home/ali/aliprojects/myfyp/backend/documents/views.py", line 167, in upload_file
    DocumentValidator.validate_upload(file)
  File "/home/ali/aliprojects/myfyp/backend/documents/validators.py", line 77, in validate_upload
    DocumentValidator.validate_file_extension(file.filename)
  File "/home/ali/aliprojects/myfyp/backend/documents/validators.py", line 59, in validate_file_extension
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: Unsupported file format. Allowed formats: pdf, docx, pptx, jpg, jpeg, png, txt, xlsx, csv

2026-02-05 01:49:23 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-05 01:49:59 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-05 01:49:59 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-05 01:49:59 - slca - ERROR - [views.py:67] - Content retrieval failed: Failed to extract document content
2026-02-05 02:10:41 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-05 02:10:41 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-05 02:10:45 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-05 02:10:45 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-09 16:30:44 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-09 16:30:44 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-09 16:30:52 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-09 16:30:52 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-09 16:31:03 - slca - ERROR - [vector_store.py:90] - Error generating query embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-09 16:31:03 - slca - ERROR - [vector_store.py:328] - Error querying vector store: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-09 16:54:42 - slca - ERROR - [vector_store.py:90] - Error generating query embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-09 16:54:42 - slca - ERROR - [vector_store.py:328] - Error querying vector store: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:50:22 - slca - ERROR - [main.py:42] - Unhandled exception: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "user_progress_user_id_key"
DETAIL:  Key (user_id)=(246a37b8-165b-497f-977e-a586b9fe2209) already exists.

[SQL: INSERT INTO user_progress (id, user_id, total_documents, total_notes, total_summaries, total_quizzes_generated, total_quizzes_attempted, average_quiz_score, study_streak_days, last_activity_date, updated_at) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(total_documents)s, %(total_notes)s, %(total_summaries)s, %(total_quizzes_generated)s, %(total_quizzes_attempted)s, %(average_quiz_score)s, %(study_streak_days)s, %(last_activity_date)s, %(updated_at)s)]
[parameters: {'id': UUID('e35c4874-e119-4df8-9d55-a33d542becd9'), 'user_id': UUID('246a37b8-165b-497f-977e-a586b9fe2209'), 'total_documents': 0, 'total_notes': 0, 'total_summaries': 0, 'total_quizzes_generated': 0, 'total_quizzes_attempted': 0, 'average_quiz_score': 0.0, 'study_streak_days': 0, 'last_activity_date': None, 'updated_at': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-10 00:50:22 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "user_progress_user_id_key"
DETAIL:  Key (user_id)=(246a37b8-165b-497f-977e-a586b9fe2209) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 56, in get_dashboard_stats
    progress = progress_analytics.update_progress(db, current_user.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 36, in update_progress
    progress = ProgressAnalytics.get_or_create_progress(db, user_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 28, in get_or_create_progress
    db.commit()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "user_progress_user_id_key"
DETAIL:  Key (user_id)=(246a37b8-165b-497f-977e-a586b9fe2209) already exists.

[SQL: INSERT INTO user_progress (id, user_id, total_documents, total_notes, total_summaries, total_quizzes_generated, total_quizzes_attempted, average_quiz_score, study_streak_days, last_activity_date, updated_at) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(total_documents)s, %(total_notes)s, %(total_summaries)s, %(total_quizzes_generated)s, %(total_quizzes_attempted)s, %(average_quiz_score)s, %(study_streak_days)s, %(last_activity_date)s, %(updated_at)s)]
[parameters: {'id': UUID('e35c4874-e119-4df8-9d55-a33d542becd9'), 'user_id': UUID('246a37b8-165b-497f-977e-a586b9fe2209'), 'total_documents': 0, 'total_notes': 0, 'total_summaries': 0, 'total_quizzes_generated': 0, 'total_quizzes_attempted': 0, 'average_quiz_score': 0.0, 'study_streak_days': 0, 'last_activity_date': None, 'updated_at': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2026-02-10 00:51:08 - slca - ERROR - [views.py:201] - File upload failed: 400: Unsupported file format. Allowed formats: pdf, docx, pptx, jpg, jpeg, png, txt, xlsx, csv
2026-02-10 00:51:08 - slca - ERROR - [views.py:202] - Error type: HTTPException
2026-02-10 00:51:08 - slca - ERROR - [views.py:204] - Traceback (most recent call last):
  File "/home/ali/aliprojects/myfyp/backend/documents/views.py", line 167, in upload_file
    DocumentValidator.validate_upload(file)
  File "/home/ali/aliprojects/myfyp/backend/documents/validators.py", line 77, in validate_upload
    DocumentValidator.validate_file_extension(file.filename)
  File "/home/ali/aliprojects/myfyp/backend/documents/validators.py", line 59, in validate_file_extension
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: Unsupported file format. Allowed formats: pdf, docx, pptx, jpg, jpeg, png, txt, xlsx, csv

2026-02-10 00:51:23 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:51:23 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:51:23 - slca - ERROR - [vector_store.py:218] - Error adding document 390929cd-352e-4f3d-a17f-46cd371db430: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:51:23 - slca - ERROR - [rag_pipeline.py:261] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:51:49 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:51:49 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:51:49 - slca - ERROR - [vector_store.py:218] - Error adding document b2f474c1-fb77-4408-995f-708f7e7732a3: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:51:49 - slca - ERROR - [rag_pipeline.py:261] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-10 00:51:58 - slca - ERROR - [views.py:128] - Error processing document b2f474c1-fb77-4408-995f-708f7e7732a3: UPDATE statement on table 'documents' expected to update 1 row(s); 0 were matched.
2026-02-10 00:51:58 - slca - ERROR - [views.py:130] - Traceback: Traceback (most recent call last):
  File "/home/ali/aliprojects/myfyp/backend/documents/views.py", line 125, in process_document_background
    db.commit()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 948, in _emit_update_statements
    raise orm_exc.StaleDataError(
sqlalchemy.orm.exc.StaleDataError: UPDATE statement on table 'documents' expected to update 1 row(s); 0 were matched.

2026-02-10 00:51:58 - slca - ERROR - [views.py:138] - Failed to update document status: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: UPDATE statement on table 'documents' expected to update 1 row(s); 0 were matched. (Background on this error at: https://sqlalche.me/e/20/7s2a)
2026-02-10 19:10:22 - slca - ERROR - [views.py:707] - Diagram generation error for deaa9981-1d09-47da-ae6a-b55667ac0ab1: 'Document' object has no attribute 'content'
2026-02-10 19:13:17 - slca - ERROR - [views.py:707] - Diagram generation error for deaa9981-1d09-47da-ae6a-b55667ac0ab1: 'Document' object has no attribute 'content'
2026-02-10 19:14:48 - slca - ERROR - [views.py:707] - Diagram generation error for deaa9981-1d09-47da-ae6a-b55667ac0ab1: 'Document' object has no attribute 'content'
2026-02-10 19:15:19 - slca - ERROR - [views.py:707] - Diagram generation error for deaa9981-1d09-47da-ae6a-b55667ac0ab1: 'Document' object has no attribute 'content'
2026-02-11 18:13:30 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-11 18:13:30 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-11 18:13:45 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-11 18:13:45 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-11 19:30:49 - slca - ERROR - [vector_store.py:90] - Error generating query embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-11 19:30:49 - slca - ERROR - [vector_store.py:328] - Error querying vector store: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-11 19:30:57 - slca - ERROR - [vector_store.py:90] - Error generating query embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-11 19:30:57 - slca - ERROR - [vector_store.py:328] - Error querying vector store: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-11 19:51:02 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for 8091aa3c-22b3-487d-ad71-adaaee9c5f10
2026-02-11 23:19:56 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-11 23:19:56 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-12 22:32:08 - slca - ERROR - [main.py:42] - Unhandled exception: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type
2026-02-12 22:32:09 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/quizzes/views.py", line 712, in get_quiz_attempt
    return QuizResultResponse(
           ^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type

2026-02-12 22:32:31 - slca - ERROR - [main.py:42] - Unhandled exception: unsupported operand type(s) for +: 'float' and 'NoneType'
2026-02-12 22:32:31 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 182, in get_ai_insights
    insights = progress_analytics.generate_ai_insights(db, current_user.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 269, in generate_ai_insights
    metrics = ProgressAnalytics.get_performance_metrics(db, user_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 228, in get_performance_metrics
    first_5_avg = sum(scores[:5]) / 5
                  ^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'

2026-02-12 22:32:31 - slca - ERROR - [main.py:42] - Unhandled exception: unsupported operand type(s) for +: 'float' and 'NoneType'
2026-02-12 22:32:31 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 182, in get_ai_insights
    insights = progress_analytics.generate_ai_insights(db, current_user.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 269, in generate_ai_insights
    metrics = ProgressAnalytics.get_performance_metrics(db, user_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 228, in get_performance_metrics
    first_5_avg = sum(scores[:5]) / 5
                  ^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'

2026-02-12 22:32:31 - slca - ERROR - [main.py:42] - Unhandled exception: unsupported operand type(s) for +: 'float' and 'NoneType'
2026-02-12 22:32:31 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 164, in get_detailed_analytics
    analytics = progress_analytics.get_detailed_analytics(db, current_user.id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 410, in get_detailed_analytics
    metrics = ProgressAnalytics.get_performance_metrics(db, user_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 228, in get_performance_metrics
    first_5_avg = sum(scores[:5]) / 5
                  ^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'

2026-02-12 22:32:31 - slca - ERROR - [main.py:42] - Unhandled exception: unsupported operand type(s) for +: 'float' and 'NoneType'
2026-02-12 22:32:31 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 164, in get_detailed_analytics
    analytics = progress_analytics.get_detailed_analytics(db, current_user.id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 410, in get_detailed_analytics
    metrics = ProgressAnalytics.get_performance_metrics(db, user_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 228, in get_performance_metrics
    first_5_avg = sum(scores[:5]) / 5
                  ^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'

2026-02-12 22:32:35 - slca - ERROR - [main.py:42] - Unhandled exception: 'NoneType' object has no attribute 'strftime'
2026-02-12 22:32:35 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 62, in get_dashboard_stats
    quiz_trend = progress_analytics.get_quiz_performance_trend(db, current_user.id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 153, in get_quiz_performance_trend
    'date': attempt.completed_at.strftime('%Y-%m-%d'),
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'

2026-02-12 22:32:35 - slca - ERROR - [main.py:42] - Unhandled exception: 'NoneType' object has no attribute 'strftime'
2026-02-12 22:32:35 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 62, in get_dashboard_stats
    quiz_trend = progress_analytics.get_quiz_performance_trend(db, current_user.id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 153, in get_quiz_performance_trend
    'date': attempt.completed_at.strftime('%Y-%m-%d'),
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'

2026-02-12 22:37:27 - slca - ERROR - [main.py:42] - Unhandled exception: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type
2026-02-12 22:37:27 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/quizzes/views.py", line 712, in get_quiz_attempt
    return QuizResultResponse(
           ^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type

2026-02-12 22:37:27 - slca - ERROR - [main.py:42] - Unhandled exception: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type
2026-02-12 22:37:27 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/quizzes/views.py", line 712, in get_quiz_attempt
    return QuizResultResponse(
           ^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type

2026-02-12 22:37:34 - slca - ERROR - [main.py:42] - Unhandled exception: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type
2026-02-12 22:37:34 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/quizzes/views.py", line 712, in get_quiz_attempt
    return QuizResultResponse(
           ^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type

2026-02-12 22:37:34 - slca - ERROR - [main.py:42] - Unhandled exception: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type
2026-02-12 22:37:34 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/quizzes/views.py", line 712, in get_quiz_attempt
    return QuizResultResponse(
           ^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 3 validation errors for QuizResultResponse
score
  Input should be a valid number [type=float_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/float_type
total_questions
  Input should be a valid integer [type=int_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/int_type
completed_at
  Input should be a valid datetime [type=datetime_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/datetime_type

2026-02-12 22:41:03 - slca - ERROR - [main.py:42] - Unhandled exception: 'NoneType' object has no attribute 'strftime'
2026-02-12 22:41:03 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 62, in get_dashboard_stats
    quiz_trend = progress_analytics.get_quiz_performance_trend(db, current_user.id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 153, in get_quiz_performance_trend
    'date': attempt.completed_at.strftime('%Y-%m-%d'),
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'

2026-02-12 22:41:03 - slca - ERROR - [main.py:42] - Unhandled exception: 'NoneType' object has no attribute 'strftime'
2026-02-12 22:41:03 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 62, in get_dashboard_stats
    quiz_trend = progress_analytics.get_quiz_performance_trend(db, current_user.id)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 153, in get_quiz_performance_trend
    'date': attempt.completed_at.strftime('%Y-%m-%d'),
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'NoneType' object has no attribute 'strftime'

2026-02-12 22:41:15 - slca - ERROR - [main.py:42] - Unhandled exception: unsupported operand type(s) for +: 'float' and 'NoneType'
2026-02-12 22:41:15 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 182, in get_ai_insights
    insights = progress_analytics.generate_ai_insights(db, current_user.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 269, in generate_ai_insights
    metrics = ProgressAnalytics.get_performance_metrics(db, user_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 228, in get_performance_metrics
    first_5_avg = sum(scores[:5]) / 5
                  ^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'

2026-02-12 22:41:16 - slca - ERROR - [main.py:42] - Unhandled exception: unsupported operand type(s) for +: 'float' and 'NoneType'
2026-02-12 22:41:16 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 182, in get_ai_insights
    insights = progress_analytics.generate_ai_insights(db, current_user.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 269, in generate_ai_insights
    metrics = ProgressAnalytics.get_performance_metrics(db, user_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 228, in get_performance_metrics
    first_5_avg = sum(scores[:5]) / 5
                  ^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'

2026-02-12 22:41:16 - slca - ERROR - [main.py:42] - Unhandled exception: unsupported operand type(s) for +: 'float' and 'NoneType'
2026-02-12 22:41:16 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 164, in get_detailed_analytics
    analytics = progress_analytics.get_detailed_analytics(db, current_user.id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 410, in get_detailed_analytics
    metrics = ProgressAnalytics.get_performance_metrics(db, user_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 228, in get_performance_metrics
    first_5_avg = sum(scores[:5]) / 5
                  ^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'

2026-02-12 22:41:16 - slca - ERROR - [main.py:42] - Unhandled exception: unsupported operand type(s) for +: 'float' and 'NoneType'
2026-02-12 22:41:16 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 164, in get_detailed_analytics
    analytics = progress_analytics.get_detailed_analytics(db, current_user.id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 410, in get_detailed_analytics
    metrics = ProgressAnalytics.get_performance_metrics(db, user_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 228, in get_performance_metrics
    first_5_avg = sum(scores[:5]) / 5
                  ^^^^^^^^^^^^^^^
TypeError: unsupported operand type(s) for +: 'float' and 'NoneType'

2026-02-12 22:46:26 - slca - ERROR - [vector_store.py:90] - Error generating query embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-12 22:46:26 - slca - ERROR - [vector_store.py:328] - Error querying vector store: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-12 22:46:46 - slca - ERROR - [vector_store.py:90] - Error generating query embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-12 22:46:46 - slca - ERROR - [vector_store.py:328] - Error querying vector store: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-16 17:38:56 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-16 17:38:56 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-16 17:38:56 - slca - ERROR - [vector_store.py:218] - Error adding document 386865b5-fc6b-4a83-8e0e-7a3ab4a5a22e: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-16 17:38:56 - slca - ERROR - [rag_pipeline.py:261] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-17 22:15:41 - slca - ERROR - [rag_pipeline.py:49] - RAG Pipeline Error: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-18 14:23:05 - slca - ERROR - [rag_pipeline.py:49] - RAG Pipeline Error: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-18 14:30:52 - slca - ERROR - [rag_pipeline.py:49] - RAG Pipeline Error: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-18 14:30:52 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for 7483c936-37d1-433c-8dbb-d77960f54462
2026-02-18 14:40:29 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for 8091aa3c-22b3-487d-ad71-adaaee9c5f10
2026-02-18 14:40:29 - slca - ERROR - [views.py:72] - Content retrieval failed: Could not extract webpage content.
2026-02-21 22:09:29 - slca - ERROR - [main.py:42] - Unhandled exception: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "user_progress_user_id_key"
DETAIL:  Key (user_id)=(02108505-c625-42b5-bab2-6d03539fd340) already exists.

[SQL: INSERT INTO user_progress (id, user_id, total_documents, total_notes, total_summaries, total_quizzes_generated, total_quizzes_attempted, average_quiz_score, study_streak_days, last_activity_date, updated_at) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(total_documents)s, %(total_notes)s, %(total_summaries)s, %(total_quizzes_generated)s, %(total_quizzes_attempted)s, %(average_quiz_score)s, %(study_streak_days)s, %(last_activity_date)s, %(updated_at)s)]
[parameters: {'id': UUID('34ffbcc9-cc1d-4f33-8cab-f2a9f0f0f6fb'), 'user_id': UUID('02108505-c625-42b5-bab2-6d03539fd340'), 'total_documents': 0, 'total_notes': 0, 'total_summaries': 0, 'total_quizzes_generated': 0, 'total_quizzes_attempted': 0, 'average_quiz_score': 0.0, 'study_streak_days': 0, 'last_activity_date': None, 'updated_at': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2026-02-21 22:09:29 - slca - ERROR - [main.py:43] - Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UniqueViolation: duplicate key value violates unique constraint "user_progress_user_id_key"
DETAIL:  Key (user_id)=(02108505-c625-42b5-bab2-6d03539fd340) already exists.


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 63, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/middleware/asyncexitstack.py", line 18, in __call__
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 716, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 736, in app
    await route.handle(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/routing.py", line 290, in handle
    await self.app(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 115, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 101, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 355, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/fastapi/routing.py", line 245, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/starlette/concurrency.py", line 32, in run_in_threadpool
    return await anyio.to_thread.run_sync(func)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/to_thread.py", line 63, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 2502, in run_sync_in_worker_thread
    return await future
           ^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 986, in run
    result = context.run(func, *args)
             ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/views.py", line 56, in get_dashboard_stats
    progress = progress_analytics.update_progress(db, current_user.id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 36, in update_progress
    progress = ProgressAnalytics.get_or_create_progress(db, user_id)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/myfyp/backend/progress/analytics.py", line 28, in get_or_create_progress
    db.commit()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2030, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1311, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 137, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1286, in _prepare_impl
    self.session.flush()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4331, in flush
    self._flush(objects)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4466, in _flush
    with util.safe_reraise():
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4427, in _flush
    flush_context.execute()
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 527, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2363, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/ali/aliprojects/SLCA-project/backend/venv/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 952, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (psycopg2.errors.UniqueViolation) duplicate key value violates unique constraint "user_progress_user_id_key"
DETAIL:  Key (user_id)=(02108505-c625-42b5-bab2-6d03539fd340) already exists.

[SQL: INSERT INTO user_progress (id, user_id, total_documents, total_notes, total_summaries, total_quizzes_generated, total_quizzes_attempted, average_quiz_score, study_streak_days, last_activity_date, updated_at) VALUES (%(id)s::UUID, %(user_id)s::UUID, %(total_documents)s, %(total_notes)s, %(total_summaries)s, %(total_quizzes_generated)s, %(total_quizzes_attempted)s, %(average_quiz_score)s, %(study_streak_days)s, %(last_activity_date)s, %(updated_at)s)]
[parameters: {'id': UUID('34ffbcc9-cc1d-4f33-8cab-f2a9f0f0f6fb'), 'user_id': UUID('02108505-c625-42b5-bab2-6d03539fd340'), 'total_documents': 0, 'total_notes': 0, 'total_summaries': 0, 'total_quizzes_generated': 0, 'total_quizzes_attempted': 0, 'average_quiz_score': 0.0, 'study_streak_days': 0, 'last_activity_date': None, 'updated_at': None}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2026-02-21 22:09:46 - slca - ERROR - [views.py:201] - File upload failed: 400: Unsupported file format. Allowed formats: pdf, docx, pptx, jpg, jpeg, png, txt, xlsx, csv
2026-02-21 22:09:46 - slca - ERROR - [views.py:202] - Error type: HTTPException
2026-02-21 22:09:46 - slca - ERROR - [views.py:204] - Traceback (most recent call last):
  File "/home/ali/aliprojects/myfyp/backend/documents/views.py", line 167, in upload_file
    DocumentValidator.validate_upload(file)
  File "/home/ali/aliprojects/myfyp/backend/documents/validators.py", line 77, in validate_upload
    DocumentValidator.validate_file_extension(file.filename)
  File "/home/ali/aliprojects/myfyp/backend/documents/validators.py", line 59, in validate_file_extension
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: Unsupported file format. Allowed formats: pdf, docx, pptx, jpg, jpeg, png, txt, xlsx, csv

2026-02-21 22:10:09 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 22:10:09 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 22:10:09 - slca - ERROR - [vector_store.py:218] - Error adding document 7de63a18-f40e-448c-8a99-fa87ff51c206: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 22:10:09 - slca - ERROR - [rag_pipeline.py:261] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 22:37:06 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 22:37:06 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 22:37:06 - slca - ERROR - [vector_store.py:218] - Error adding document f13f0e25-56c9-4f2b-9165-b43133713882: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 22:37:06 - slca - ERROR - [rag_pipeline.py:261] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:12:21 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:12:21 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:12:21 - slca - ERROR - [vector_store.py:218] - Error adding document e5ae3a03-43cc-4b70-9a61-91c5a200acfb: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:12:21 - slca - ERROR - [rag_pipeline.py:261] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:13:57 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:13:57 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:13:57 - slca - ERROR - [vector_store.py:218] - Error adding document 8c95a786-f13e-4cdb-8fc1-fd6ab2f4c120: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:13:57 - slca - ERROR - [rag_pipeline.py:261] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-21 23:14:14 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-21 23:14:14 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-21 23:14:24 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-21 23:14:24 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-21 23:17:28 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-21 23:17:28 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-21 23:24:52 - slca - ERROR - [gemini_live.py:89] - Failed to connect to Gemini Live: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-21 23:24:52 - slca - ERROR - [views.py:172] - Voice WebSocket error: received 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod; then sent 1008 (policy violation) models/gemini-2.0-flash-exp is not found for API version v1alpha, or is not supported for bidiGenerateContent. Call ListMod
2026-02-22 14:07:41 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-22 14:07:41 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-22 14:07:41 - slca - ERROR - [views.py:67] - Content retrieval failed: Failed to extract document content
2026-02-22 14:07:52 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-22 14:07:52 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-22 14:07:52 - slca - ERROR - [views.py:67] - Content retrieval failed: Failed to extract document content
2026-02-22 14:09:09 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-22 14:09:09 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-22 14:09:09 - slca - ERROR - [views.py:67] - Content retrieval failed: Failed to extract document content
2026-02-22 14:11:57 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-22 14:11:57 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-22 14:11:57 - slca - ERROR - [views.py:67] - Content retrieval failed: Failed to extract document content
2026-02-22 14:11:59 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-22 14:11:59 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-22 14:11:59 - slca - ERROR - [views.py:67] - Content retrieval failed: Failed to extract document content
2026-02-22 14:12:00 - slca - ERROR - [rag_pipeline.py:280] - RAG Pipeline: Document processing error: Failed to extract document content
2026-02-22 14:12:00 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for eb303a59-8be1-46ed-9e2a-ee6a1926d480
2026-02-22 14:12:00 - slca - ERROR - [views.py:67] - Content retrieval failed: Failed to extract document content
2026-02-22 14:13:15 - slca - ERROR - [rag_pipeline.py:49] - RAG Pipeline Error: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-22 14:13:15 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for 7483c936-37d1-433c-8dbb-d77960f54462
2026-02-22 14:13:15 - slca - ERROR - [views.py:67] - Content retrieval failed: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-22 14:16:11 - slca - ERROR - [rag_pipeline.py:49] - RAG Pipeline Error: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-22 14:16:11 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for 7483c936-37d1-433c-8dbb-d77960f54462
2026-02-22 14:16:11 - slca - ERROR - [views.py:67] - Content retrieval failed: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-22 14:16:27 - slca - ERROR - [rag_pipeline.py:49] - RAG Pipeline Error: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-22 14:16:27 - slca - ERROR - [rag_retriever.py:86] - RAGRetriever: Failed to get content for 7483c936-37d1-433c-8dbb-d77960f54462
2026-02-22 14:16:27 - slca - ERROR - [views.py:67] - Content retrieval failed: Could not extract transcript. Possible reasons: API key not configured, video has no captions, or API request failed.
2026-02-22 14:16:48 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-22 14:16:48 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-22 14:16:48 - slca - ERROR - [vector_store.py:218] - Error adding document fc497d48-c27e-4a8b-92f2-f8316402d2de: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-22 14:16:48 - slca - ERROR - [rag_pipeline.py:262] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:45:57 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:45:57 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:45:57 - slca - ERROR - [vector_store.py:218] - Error adding document b1126939-1d28-457a-a8ed-e303f639199f: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:45:57 - slca - ERROR - [rag_pipeline.py:262] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:49:51 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:49:51 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:49:51 - slca - ERROR - [vector_store.py:218] - Error adding document eb1e5446-17a9-4be7-acd7-a8e0333db0ec: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:49:51 - slca - ERROR - [rag_pipeline.py:262] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:57:40 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:57:40 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:57:40 - slca - ERROR - [vector_store.py:218] - Error adding document 7dcf039c-c01f-49e0-8dc6-93307fda7e2f: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 01:57:40 - slca - ERROR - [rag_pipeline.py:262] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 02:02:20 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 02:02:20 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 02:02:20 - slca - ERROR - [vector_store.py:218] - Error adding document 34593671-e1ce-4680-ad86-bdabf47e8a33: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 02:02:20 - slca - ERROR - [rag_pipeline.py:262] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 02:08:57 - slca - ERROR - [vector_store.py:69] - Error generating embedding: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 02:08:57 - slca - ERROR - [vector_store.py:176] - VectorStore: Failed to generate embedding for chunk 0: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 02:08:57 - slca - ERROR - [vector_store.py:218] - Error adding document 5b2aee1b-c7f6-43d0-a5ed-133d767c8aef: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
2026-02-23 02:08:57 - slca - ERROR - [rag_pipeline.py:262] - RAG Pipeline: Embedding storage failed: 404 models/text-embedding-004 is not found for API version v1beta, or is not supported for embedContent. Call ListModels to see the list of available models and their supported methods.
