### API Testing for FYP Project
### Base URL Configuration
@baseUrl = http://localhost:8000/api

###############################################
# USER AUTHENTICATION & MANAGEMENT
###############################################

### 1. Register a new user
# @name register
POST {{baseUrl}}/users/register
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "testpass123",
  "full_name": "Test User"
}

### 2. Login and get access token
# @name login
POST {{baseUrl}}/users/login
Content-Type: application/json

{
  "email": "test@example.com",
  "password": "testpass123"
}

### 3. Get current user info (uses token from login)
GET {{baseUrl}}/users/me
Authorization: Bearer {{login.response.body.access_token}}

### 4. Update user profile (uses token from login)
PUT {{baseUrl}}/users/me
Authorization: Bearer {{login.response.body.access_token}}
Content-Type: application/json

{
  "full_name": "Updated Test User",
  "email": "test@example.com"
}

### 5. Request password reset
POST {{baseUrl}}/users/password-reset-request
Content-Type: application/json

{
  "email": "test@example.com"
}

### 6. Reset password with token
# Replace RESET_TOKEN_HERE with actual token from email/database
POST {{baseUrl}}/users/reset-password
Content-Type: application/json

{
  "token": "RESET_TOKEN_HERE",
  "new_password": "newpassword123"
}

### 7. Verify email
# Replace VERIFICATION_TOKEN_HERE with actual token
POST {{baseUrl}}/users/verify-email
Content-Type: application/json

{
  "token": "VERIFICATION_TOKEN_HERE"
}

###############################################
# ALTERNATIVE: Manual Token Entry
###############################################
# If you prefer to manually paste a token, uncomment below and replace YOUR_TOKEN

# @token = YOUR_TOKEN_HERE

# ### Get current user (manual token)
# GET {{baseUrl}}/users/me
# Authorization: Bearer {{token}}
